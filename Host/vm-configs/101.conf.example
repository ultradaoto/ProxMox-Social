# Proxmox VM Configuration - Windows 10 Target (ID 101)
# Copy to /etc/pve/qemu-server/101.conf and adjust as needed

# Basic VM settings
name: Windows10-Target
vmgenid: auto
ostype: win10
scsihw: virtio-scsi-single
machine: q35
bios: ovmf  # UEFI boot

# CPU and Memory
cores: 4
sockets: 1
cpu: host
memory: 8192
balloon: 0  # Disable ballooning for consistent performance

# Storage (adjust path as needed)
scsi0: local-lvm:vm-101-disk-0,size=80G,ssd=1,discard=on
efidisk0: local-lvm:vm-101-disk-1,efitype=4m,pre-enrolled-keys=1,size=1M

# CD-ROM for Windows installation (remove after install)
# ide2: local:iso/Win10_22H2_English_x64.iso,media=cdrom

# VirtIO drivers ISO (mount during Windows install)
# ide3: local:iso/virtio-win-0.1.240.iso,media=cdrom

# Display - VirtIO for best performance
vga: virtio,memory=256

# Network adapters
# net0: External network for internet access
net0: virtio,bridge=vmbr0,firewall=1
# net1: Internal bridge for AI controller communication
net1: virtio,bridge=vmbr1,firewall=0

# USB Controller (xhci = USB 3.0)
machine: pc-q35-8.1

# Virtual Logitech HID devices (added by passthrough_usb.sh)
# These appear as real USB devices in Windows
usb0: host=046d:c52b,usb3=1
usb1: host=046d:c534,usb3=1

# QEMU Guest Agent
agent: 1

# Startup behavior
onboot: 0
boot: order=scsi0

# Performance tuning
numa: 0
hotplug: network,disk,usb

# Protection
protection: 0

# Tags for organization
tags: windows;target;ai-control
